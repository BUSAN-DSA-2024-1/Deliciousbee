<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Delicious Bee - 맛집 등록</title>
<!-- 부트스트랩 CSS -->
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script>
document.addEventListener('DOMContentLoaded', function() {
    let menuIndex = 1;

    document.querySelector('.add-menu').addEventListener('click', function() {
        menuIndex++;
        let newMenuItem = document.createElement('div');
        newMenuItem.classList.add('form-group', 'menu-item', 'd-flex', 'align-items-center');
        newMenuItem.innerHTML = `
            <input type="text" class="form-control flex-grow-1" name="menu_name[]" placeholder="메뉴 이름" id="menu_name_${menuIndex}" style="margin-right: 10px;" />
            <input type="text" class="form-control flex-grow-1" name="price_range[]" placeholder="가격대" id="price_range_${menuIndex}" />
        `;
        document.querySelector('#menu-container').appendChild(newMenuItem);
    });

    document.querySelector('#menu-container').addEventListener('click', function(event) {
        if (event.target.classList.contains('remove-menu')) {
            const menuItems = document.querySelectorAll('.menu-item');
            if (menuItems.length > 1) {
                menuItems[menuItems.length - 1].remove();
            } else {
                alert("최소한 하나의 메뉴와 가격대를 입력해야 합니다.");
            }
        }
    });
});
</script>
<style>
body {
	background: linear-gradient(135deg, #f5f5f5 0%, #d9d9d9 100%);
	font-family: 'Noto Sans KR', sans-serif;
}

.container {
	margin-top: 30px;
	background-color: #fff;
	padding: 40px;
	border-radius: 15px;
	box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
}

header {
	color: #333;
	margin-bottom: 40px;
}

h1 {
	color: #333;
	font-size: 2.5rem;
	margin-bottom: 10px;
}

.lead {
	color: #666;
	font-size: 1.2rem;
}

.form-group label {
	font-weight: bold;
	color: #ffa500;
	margin-bottom: 0.5rem;
}

.form-control {
	border-radius: 10px;
	border: 1px solid #ddd;
	transition: border-color 0.3s, box-shadow 0.3s;
}

.form-control:focus {
	border-color: #ffa500;
	box-shadow: 0 0 0 0.2rem rgba(255, 165, 0, 0.25);
}

.form-control-file {
	border-radius: 10px;
	border: 1px solid #ddd;
	padding: 5px;
	transition: border-color 0.3s;
}

.form-control-file:focus {
	border-color: #ffa500;
}

.btn-primary {
	background-color: #ffa500;
	border: none;
	color: #000;
	font-weight: bold;
	padding: 10px 20px;
	border-radius: 10px;
	transition: background-color 0.3s, transform 0.3s;
}

.btn-primary:hover {
	background-color: #ff8c00;
	color: #fff;
	transform: scale(1.05);
}

.btn-primary:active {
	background-color: #e07b00;
	transform: scale(1.00);
}

.form-group {
	margin-bottom: 1.5rem;
}

.form-control::placeholder {
	color: #aaa;
}
</style>
<!-- Google Fonts -->
<link
	href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap"
	rel="stylesheet">
</head>
<body>
	<div class="container mt-5">
		<!-- 헤더 -->
		<header class="text-center">
			<h1>맛집 등록</h1>
			<p class="lead">맛집 정보를 입력해주세요</p>
		</header>
		<div class="text-center">
			<a class="btn btn-primary mt-2" href="/">목록으로 돌아가기</a>
		</div>
		<!-- 맛집 등록 폼 -->
		<form action="#" th:action="@{/restaurant/restaurants}" method="post"
			enctype="multipart/form-data" th:object="${restaurantForm}">
			<div class="form-group">
				<label for="name">이름</label> <input type="text" class="form-control"
					id="name" th:field="*{name}" required>
			</div>
			<div class="form-group">
				<label for="address">주소</label> <input type="text"
					class="form-control" id="address" th:field="*{address}">
			</div>
			<div class="form-group">
				<label for="phone_number">전화번호</label> <input type="text"
					class="form-control" id="phone_number" th:field="*{phone_number}">
			</div>
			<div class="form-group">
				<label for="opening_hours">영업 시간</label> <input type="text"
					class="form-control" id="opening_hours" th:field="*{opening_hours}">
			</div>
<div id="menu-container">
    <div class="form-group menu-item d-flex align-items-center">
        <input type="text" class="form-control flex-grow-1" name="menu_name[]" placeholder="메뉴 이름" id="menu_name_1" style="margin-right: 10px;" />
        <input type="text" class="form-control flex-grow-1" name="price_range[]" placeholder="가격대" id="price_range_1" />
        <button type="button" class="btn btn-primary add-menu" style="margin-left: 10px;">+</button>
        <button type="button" class="btn btn-primary remove-menu" style="margin-left: 5px;">-</button>
    </div>
</div>
			<div class="form-group">
				<label for="homepage_url">홈페이지 URL</label> <input type="url"
					class="form-control" id="homepage_url" th:field="*{homepage_url}">
			</div>
			<div class="form-group">
				<label for="description">설명</label>
				<textarea class="form-control" id="description"
					th:field="*{description}" rows="5" required></textarea>
			</div>
			<div class="form-group">
				<label for="longitude">경도</label> <input type="number"
					step="0.000001" class="form-control" id="longitude"
					th:field="*{longitude}" required>
			</div>
			<div class="form-group">
				<label for="latitude">위도</label> <input type="number"
					step="0.000001" class="form-control" id="latitude"
					th:field="*{latitude}" required>
			</div>
			<div class="form-group">
				<label for="category">카테고리</label> <select class="form-control"
					id="category" th:field="*{category}" required>
					<option value="한식">한식</option>
					<option value="양식">양식</option>
					<option value="중식">중식</option>
					<option value="일식">일식</option>
					<option value="디저트">디저트</option>
				</select>
			</div>
			<div class="form-group">
				<label for="image">이미지 업로드</label> 
				<input type="file"
					class="form-control-file" id="image" name="file" multiple>
			</div>
			<input type="submit" class="btn btn-primary" value="등록">
		</form>
	</div>

	<!-- 부트스트랩 JS -->
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
